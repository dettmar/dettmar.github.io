(function(){var a,b,c,d,e,f,g,h=[].slice,i=function(a,b){return function(){return a.apply(b,arguments)}};window.raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelRaf=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,window.easterTime=!1,e=Isomer.Shape,d=Isomer.Point,a=Isomer.Color,c=Isomer.Path,g=function(a,b,c){var d,e;return null==b&&(b=100),e=void 0,d=void 0,function(){var f,g,i;f=1<=arguments.length?h.call(arguments,0):[],g=c||this,i=+new Date,e&&e+b>i?(clearTimeout(d),d=setTimeout(function(){e=i,a.apply(g,f)},b)):(e=i,a.apply(g,f))}},b=function(){function a(){this.hide=i(this.hide,this),this.setupElements(),this.listen(),this.tower=new f(this),this.tower.done(function(){return console.log("yolo")})}return a.prototype.setupElements=function(){return this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","mobile_bg"),this.bg=document.getElementById("background"),this.bg.appendChild(this.canvas),this.bg.setAttribute("class","loaded"),this.canvas.width=2*window.innerWidth,this.canvas.height=2*window.innerHeight,this.iso=new Isomer(this.canvas)},a.prototype.listen=function(){return window.onresize=g(function(a){return function(){return a.canvas.width=2*window.innerWidth,a.canvas.height=2*window.innerHeight,a.iso.originX=a.canvas.width/2,a.iso.originY=.9*a.canvas.height}}(this))},a.prototype.hide=function(){return this.bg.setAttribute("class",""),setTimeout(this.canvas.parentElement.removeChild.bind(this.canvas.parentElement),500,this.canvas)},a}(),f=function(){function b(a){this.scene=a,this.render=i(this.render,this),this.cube=e.Prism(d.ORIGIN,this.cubeSize,this.cubeSize,this.cubeSize),this.render(),{done:this.done}}return b.prototype.beginning=Date.now(),b.prototype.end=Date.now(),b.prototype.blockSideAmount=6,b.prototype.layerSteps=Math.pow(b.prototype.blockSideAmount+1,2),b.prototype.cubeSteps=Math.pow(b.prototype.blockSideAmount+1,3),b.prototype.x=b.prototype.blockSideAmount,b.prototype.y=b.prototype.blockSideAmount,b.prototype.z=0,b.prototype.xTarget=b.prototype.blockSideAmount,b.prototype.yTarget=b.prototype.blockSideAmount,b.prototype.zTarget=b.prototype.blockSideAmount,b.prototype.xLevel=b.prototype.blockSideAmount,b.prototype.yLevel=b.prototype.blockSideAmount,b.prototype.hasTurned=!1,b.prototype.step=0,b.prototype.cubeSize=.5,b.prototype.rStart=219,b.prototype.gStart=1,b.prototype.bStart=26,b.prototype.rEnd=235,b.prototype.gEnd=175,b.prototype.bEnd=28,b.prototype.getColor=function(b,c){var d,e,f,g;return f=(b+c*this.layerSteps)/this.cubeSteps,g=Math.round((this.rEnd-this.rStart)*f+this.rStart),e=Math.round((this.gEnd-this.gStart)*f+this.gStart),d=Math.round((this.bEnd-this.bStart)*f+this.bStart),new a(g,e,d)},b.prototype.render=function(){if(window.easterTime)return this.scene.hide();if(this.beginning=Date.now(),this.scene.iso.add(this.cube.translate(this.x*this.cubeSize,this.y*this.cubeSize,this.z*this.cubeSize),this.getColor(this.step,this.z)),this.y===this.blockSideAmount&&0===this.x&&(this.hasTurned=!0),0===this.x&&0===this.y){if(this.z===8*this.blockSideAmount)return void("function"==typeof this.next&&this.next());this.hasTurned=!1,this.x=this.blockSideAmount,this.y=this.blockSideAmount,this.xTarget=this.blockSideAmount,this.yTarget=this.blockSideAmount,this.xLevel=this.blockSideAmount,this.yLevel=this.blockSideAmount,this.step=0,this.z++}else this.x===this.xTarget&&this.y===this.yTarget?this.hasTurned?(this.y=--this.yLevel,this.xTarget=this.y,this.yTarget=0,this.x=0):(this.x=--this.xLevel,this.xTarget=this.blockSideAmount,this.yTarget=this.x,this.y=this.blockSideAmount):(this.y--,this.x++,this.step++);return this.end=Date.now(),this.diff=Math.max(this.end-this.beginning,0),this.delay=20-this.diff,setTimeout(raf,this.delay,this.render)},b.prototype.done=function(a){this.next=a},b}(),new b}).call(this);
//# sourceMappingURL=duck.min.js.map